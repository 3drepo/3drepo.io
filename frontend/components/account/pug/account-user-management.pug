.homeUserContent.userContentNoMargin.accountUserManagement
	md-content.md-whiteframe-1dp(
		aria-label="User Management",
		layout="column",
		flex)
		md-toolbar
			.md-toolbar-tools
				h2 User Management

		.teamspaceSelectWrapper(layout="row")
			md-input-container.teamspaceSelectContainer(md-no-float, flex)
				md-select(
					ng-model="vm.account"
					placeholder="Select a teamspace"
					ng-change="vm.onTeamspaceChange()"
					ng-disabled="!vm.teamspaces.length")
					md-option(
						ng-value="teamspace.account"
						ng-repeat="teamspace in vm.teamspaces") {{::teamspace.account}}

		md-button.md-accent.md-fab.md-mini.addButton(
			aria-label="Add new member"
			ng-if="!vm.isLoadingTeamspace"
			ng-click="vm.openNewDataPanel()")
			md-icon.angular-material-icons add

		md-tabs(
			md-dynamic-height
			md-border-bottom
			md-selected="vm.selectedTab"
			md-on-select="vm.onTabChange()") 
			md-tab(label="Users")
				.usersList
					.userListHeader(layout="row" layout-align="start center")
						.userListCell(layout="row" layout-align="start center")
							md-input-container
								md-checkbox(
									ng-model="vm.shouldSelectAllUser"
									ng-change="vm.toggleAllUsers()")

						.userListCell(layout="row" layout-align="start center" flex="25")
							list-sort-button
							.userListCellLabel User

						.userListCell(layout="row" layout-align="start center" flex="25")
							list-sort-button
							.userListCellLabel Job

						.userListCell(layout="row" layout-align="start center" flex="25")
							list-sort-button
							.userListCellLabel Permissions

					.usersListBody
						div.usersListRow(
							ng-repeat="member in vm.members track by member.user"
							layout="row"
							layout-align="start center")

							//Checkbox
							.userListCell(layout="row" layout-align="start center")
								md-input-container
									md-checkbox(ng-model="member.isSelected")

							//User details
							member-card.userListCell(data="member" flex="25")

							//Job
							.userListCell(layout="row" layout-align="start center" flex="25")
								md-input-container(md-no-float)
									md-select(ng-model="member.job" placeholder="Select a job")
										md-option(
											ng-value="job._id"
											ng-repeat="job in vm.jobs track by job._id")
											div(layout="row" layout-align="start center")
												span.userListJobColor(ng-style="{'background-color': job.color}")
												.userListJobName {{job._id}}
												

							//Permissions
							.userListCell(layout="row" layout-align="start center" flex="25")
								md-input-container(md-no-float)
									md-select(ng-model="member.isAdmin" placeholder="Select a permission")
										md-option(
											ng-value="value.isAdmin"
											ng-repeat="value in vm.TEAMSPACE_PERMISSIONS")
											div(layout="row" layout-align="start center") {{value.label}}

							.flex

							//Remove action
							md-button.md-icon-button.userListRemoveButton(
								ng-if="!member.isCurrentUser"
								ng-click="vm.removeMember(member)")
								md-icon.angular-material-icons remove_circle

			md-tab(label="Jobs")
				list.jobsList

			md-tab(label="Projects")
				list.projectsList
						
