account-menu(
	account="vm.account"
	is-lite-mode="vm.isLiteMode")

div#accountHolder(
	layout="row"
	flex="100"
	ng-if="!vm.state.model")

	#account(
		flex="100"
		layout="row"
		layout-xs="column"
		layout-sm="column")
		
		account-info(
			flex-xs="85"
			flex-sm="85"
			flex-md="25"
			flex-lg="30"
			flex-xl="25"

			loading="vm.loadingAccount"
			username="vm.username"
			first-name="vm.firstName"
			last-name="vm.lastName"
			email="vm.email"
			has-avatar="vm.hasAvatar"
			item-to-show="vm.itemToShow")

		#accountItem(flex="100")

			account-teamspaces(
				is-lite-mode="vm.isLiteMode"
				loading="vm.loadingAccount"
				ng-show="vm.itemToShow === 'teamspaces'"
				account="vm.account"
				accounts="vm.accounts"
				on-show-page="vm.showPage(page, callingPage, data)"
				selected-index="vm.data.tabIndex")

			account-profile(
				ng-if="vm.username && vm.itemToShow === 'profile'"
				username="vm.username"
				first-name="vm.firstName"
				last-name="vm.lastName"
				email="vm.email")

			account-billing(
				ng-if="vm.username && vm.itemToShow === 'billing'"
				account="vm.account"
				billing-address="vm.billingAddress"
				first-name="vm.firstName"
				last-name="vm.lastName")

			account-modelsetting(
				ng-if="vm.username && vm.itemToShow === 'modelsetting'"
				account="vm.account"
				accounts="vm.accounts"
				model="vm.model"
				data="vm.data"
				show-page="vm.showPage(page, callingPage, data)")

			account-user-management(
				ng-if="vm.username && vm.itemToShow === 'userManagement'"
				current-user="vm.account"
				accounts="vm.accounts"
				show-page="vm.showPage(page, callingPage, data)")

div(ng-if="vm.state.model")
	model(
		is-lite-mode="vm.isLiteMode"
		account="vm.state.account"
		model="vm.state.model"
		branch="vm.state.branch"
		revision="vm.state.revision"
		issue-id="vm.state.issue"
		state="vm.state")

dialog-container