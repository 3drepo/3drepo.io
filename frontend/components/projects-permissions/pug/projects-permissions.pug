.projectsPermissions(flex layout="column")
  div.projectsPermissionsOptions(layout="row" layout-align="start center" flex="none")
    md-input-container.projectSelectContainer(md-no-float)
      label Project
      md-select(
        ng-model="vm.currentProject"
        placeholder="Select a project"
        ng-change="vm.onProjectChange()"
        ng-disabled="!vm.projects.length")
        md-option(
          ng-value="project.name"
          ng-repeat="project in vm.projects") {{project.name}}

    .flex

    md-button.md-accent.switchButton(ng-click="vm.toggleView()")
        div(
          ng-if="vm.currentView !== vm.PERMISSIONS_VIEWS.MODELS"
          layout="row"
          layout-align="start center")
          span Model & Federation permissions
          md-icon.angular-material-icons keyboard_arrow_right
        div(
          ng-if="vm.currentView === vm.PERMISSIONS_VIEWS.MODELS"
          layout="row"
          layout-align="start center")
          md-icon.angular-material-icons keyboard_arrow_left
          span Projects permissions

  projects-permissions(
    flex
    layout="row"
    ng-if="vm.currentView !== vm.PERMISSIONS_VIEWS.MODELS"
    permissions="vm.assignedProjectPermissions"
    on-permissions-change="vm.onPermissionsChange"
  )

  models-permissions(
    flex
    layout="row"
    ng-if="vm.currentView === vm.PERMISSIONS_VIEWS.MODELS"
    models="vm.models"
    permissions="vm.assignedModelPermissions"
    on-selection-change="vm.onModelSelectionChange"
    on-permissions-change="vm.onPermissionsChange"
  )

  .projectsPermissionsFooter(
    layout="row"
    layout-align="end center") Assign {{vm.currentView !== vm.PERMISSIONS_VIEWS.MODELS ? 'project' : 'model and federation'}} permissions
    
